{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = '/odata/Orders';\nexport class OrderService {\n  static async getOrders() {\n    const response = await axios.get(BASE_URL);\n    return response.data.value;\n  }\n  static async getOrder(id) {\n    const response = await axios.get(`${BASE_URL}(${id})`);\n    return response.data;\n  }\n  static async createOrder(order) {\n    // 确保数据格式正确\n    const formattedOrder = {\n      OrderNumber: order.orderNumber,\n      Status: order.status,\n      CustomerName: order.customerName,\n      CustomerEmail: order.customerEmail || null,\n      CustomerPhone: order.customerPhone || null,\n      Notes: order.notes || null,\n      Items: order.items.map(item => ({\n        ProductCode: item.productCode,\n        ProductName: item.productName,\n        UnitPrice: Number(item.unitPrice),\n        Quantity: Number(item.quantity),\n        Notes: item.notes || null\n      }))\n    };\n    const response = await axios.post(BASE_URL, formattedOrder, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    return response.data;\n  }\n  static async updateOrder(id, order) {\n    await axios.patch(`${BASE_URL}(${id})`, order);\n  }\n  static async deleteOrder(id) {\n    await axios.delete(`${BASE_URL}(${id})`);\n  }\n}","map":{"version":3,"names":["axios","BASE_URL","OrderService","getOrders","response","get","data","value","getOrder","id","createOrder","order","formattedOrder","OrderNumber","orderNumber","Status","status","CustomerName","customerName","CustomerEmail","customerEmail","CustomerPhone","customerPhone","Notes","notes","Items","items","map","item","ProductCode","productCode","ProductName","productName","UnitPrice","Number","unitPrice","Quantity","quantity","post","headers","updateOrder","patch","deleteOrder","delete"],"sources":["/Users/hongyaotang/src/odata4/src/main/webapp/src/services/OrderService.ts"],"sourcesContent":["import axios from 'axios';\nimport { Order, OrderItem, OrderStatus } from '../types/Order';\n\nconst BASE_URL = '/odata/Orders';\n\nexport class OrderService {\n    static async getOrders(): Promise<Order[]> {\n        const response = await axios.get(BASE_URL);\n        return response.data.value;\n    }\n\n    static async getOrder(id: number): Promise<Order> {\n        const response = await axios.get(`${BASE_URL}(${id})`);\n        return response.data;\n    }\n\n    static async createOrder(order: Omit<Order, 'id'>): Promise<Order> {\n        // 确保数据格式正确\n        const formattedOrder = {\n            OrderNumber: order.orderNumber,\n            Status: order.status,\n            CustomerName: order.customerName,\n            CustomerEmail: order.customerEmail || null,\n            CustomerPhone: order.customerPhone || null,\n            Notes: order.notes || null,\n            Items: order.items.map(item => ({\n                ProductCode: item.productCode,\n                ProductName: item.productName,\n                UnitPrice: Number(item.unitPrice),\n                Quantity: Number(item.quantity),\n                Notes: item.notes || null\n            }))\n        };\n\n        const response = await axios.post(BASE_URL, formattedOrder, {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        return response.data;\n    }\n\n    static async updateOrder(id: number, order: Partial<Order>): Promise<void> {\n        await axios.patch(`${BASE_URL}(${id})`, order);\n    }\n\n    static async deleteOrder(id: number): Promise<void> {\n        await axios.delete(`${BASE_URL}(${id})`);\n    }\n} "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,QAAQ,GAAG,eAAe;AAEhC,OAAO,MAAMC,YAAY,CAAC;EACtB,aAAaC,SAASA,CAAA,EAAqB;IACvC,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAACJ,QAAQ,CAAC;IAC1C,OAAOG,QAAQ,CAACE,IAAI,CAACC,KAAK;EAC9B;EAEA,aAAaC,QAAQA,CAACC,EAAU,EAAkB;IAC9C,MAAML,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAC,GAAGJ,QAAQ,IAAIQ,EAAE,GAAG,CAAC;IACtD,OAAOL,QAAQ,CAACE,IAAI;EACxB;EAEA,aAAaI,WAAWA,CAACC,KAAwB,EAAkB;IAC/D;IACA,MAAMC,cAAc,GAAG;MACnBC,WAAW,EAAEF,KAAK,CAACG,WAAW;MAC9BC,MAAM,EAAEJ,KAAK,CAACK,MAAM;MACpBC,YAAY,EAAEN,KAAK,CAACO,YAAY;MAChCC,aAAa,EAAER,KAAK,CAACS,aAAa,IAAI,IAAI;MAC1CC,aAAa,EAAEV,KAAK,CAACW,aAAa,IAAI,IAAI;MAC1CC,KAAK,EAAEZ,KAAK,CAACa,KAAK,IAAI,IAAI;MAC1BC,KAAK,EAAEd,KAAK,CAACe,KAAK,CAACC,GAAG,CAACC,IAAI,KAAK;QAC5BC,WAAW,EAAED,IAAI,CAACE,WAAW;QAC7BC,WAAW,EAAEH,IAAI,CAACI,WAAW;QAC7BC,SAAS,EAAEC,MAAM,CAACN,IAAI,CAACO,SAAS,CAAC;QACjCC,QAAQ,EAAEF,MAAM,CAACN,IAAI,CAACS,QAAQ,CAAC;QAC/Bd,KAAK,EAAEK,IAAI,CAACJ,KAAK,IAAI;MACzB,CAAC,CAAC;IACN,CAAC;IAED,MAAMpB,QAAQ,GAAG,MAAMJ,KAAK,CAACsC,IAAI,CAACrC,QAAQ,EAAEW,cAAc,EAAE;MACxD2B,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IACF,OAAOnC,QAAQ,CAACE,IAAI;EACxB;EAEA,aAAakC,WAAWA,CAAC/B,EAAU,EAAEE,KAAqB,EAAiB;IACvE,MAAMX,KAAK,CAACyC,KAAK,CAAC,GAAGxC,QAAQ,IAAIQ,EAAE,GAAG,EAAEE,KAAK,CAAC;EAClD;EAEA,aAAa+B,WAAWA,CAACjC,EAAU,EAAiB;IAChD,MAAMT,KAAK,CAAC2C,MAAM,CAAC,GAAG1C,QAAQ,IAAIQ,EAAE,GAAG,CAAC;EAC5C;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}