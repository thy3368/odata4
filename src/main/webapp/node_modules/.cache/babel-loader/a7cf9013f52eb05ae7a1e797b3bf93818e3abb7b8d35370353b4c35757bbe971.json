{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = '/odata/Orders';\nexport class OrderService {\n  static async getOrders() {\n    const response = await axios.get(BASE_URL);\n    return response.data.value;\n  }\n  static async getOrder(id) {\n    const response = await axios.get(`${BASE_URL}(${id})`);\n    return response.data;\n  }\n  static async createOrder(order) {\n    // 确保数据格式正确\n    const formattedOrder = {\n      orderNumber: order.orderNumber,\n      status: order.status,\n      customerName: order.customerName,\n      customerEmail: order.customerEmail || null,\n      customerPhone: order.customerPhone || null,\n      notes: order.notes || null,\n      items: order.items.map(item => ({\n        productCode: item.productCode,\n        productName: item.productName,\n        unitPrice: Number(item.unitPrice),\n        quantity: Number(item.quantity),\n        notes: item.notes || null\n      }))\n    };\n    const response = await axios.post(BASE_URL, formattedOrder, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    return response.data;\n  }\n  static async updateOrder(id, order) {\n    await axios.patch(`${BASE_URL}(${id})`, order);\n  }\n  static async deleteOrder(id) {\n    await axios.delete(`${BASE_URL}(${id})`);\n  }\n}","map":{"version":3,"names":["axios","BASE_URL","OrderService","getOrders","response","get","data","value","getOrder","id","createOrder","order","formattedOrder","orderNumber","status","customerName","customerEmail","customerPhone","notes","items","map","item","productCode","productName","unitPrice","Number","quantity","post","headers","updateOrder","patch","deleteOrder","delete"],"sources":["/Users/hongyaotang/src/odata4/src/main/webapp/src/services/OrderService.ts"],"sourcesContent":["import axios from 'axios';\nimport { Order, OrderItem, OrderStatus } from '../types/Order';\n\nconst BASE_URL = '/odata/Orders';\n\nexport class OrderService {\n    static async getOrders(): Promise<Order[]> {\n        const response = await axios.get(BASE_URL);\n        return response.data.value;\n    }\n\n    static async getOrder(id: number): Promise<Order> {\n        const response = await axios.get(`${BASE_URL}(${id})`);\n        return response.data;\n    }\n\n    static async createOrder(order: Omit<Order, 'id'>): Promise<Order> {\n        // 确保数据格式正确\n        const formattedOrder = {\n            orderNumber: order.orderNumber,\n            status: order.status,\n            customerName: order.customerName,\n            customerEmail: order.customerEmail || null,\n            customerPhone: order.customerPhone || null,\n            notes: order.notes || null,\n            items: order.items.map(item => ({\n                productCode: item.productCode,\n                productName: item.productName,\n                unitPrice: Number(item.unitPrice),\n                quantity: Number(item.quantity),\n                notes: item.notes || null\n            }))\n        };\n\n        const response = await axios.post(BASE_URL, formattedOrder, {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        return response.data;\n    }\n\n    static async updateOrder(id: number, order: Partial<Order>): Promise<void> {\n        await axios.patch(`${BASE_URL}(${id})`, order);\n    }\n\n    static async deleteOrder(id: number): Promise<void> {\n        await axios.delete(`${BASE_URL}(${id})`);\n    }\n} "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAGzB,MAAMC,QAAQ,GAAG,eAAe;AAEhC,OAAO,MAAMC,YAAY,CAAC;EACtB,aAAaC,SAASA,CAAA,EAAqB;IACvC,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAACJ,QAAQ,CAAC;IAC1C,OAAOG,QAAQ,CAACE,IAAI,CAACC,KAAK;EAC9B;EAEA,aAAaC,QAAQA,CAACC,EAAU,EAAkB;IAC9C,MAAML,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAC,GAAGJ,QAAQ,IAAIQ,EAAE,GAAG,CAAC;IACtD,OAAOL,QAAQ,CAACE,IAAI;EACxB;EAEA,aAAaI,WAAWA,CAACC,KAAwB,EAAkB;IAC/D;IACA,MAAMC,cAAc,GAAG;MACnBC,WAAW,EAAEF,KAAK,CAACE,WAAW;MAC9BC,MAAM,EAAEH,KAAK,CAACG,MAAM;MACpBC,YAAY,EAAEJ,KAAK,CAACI,YAAY;MAChCC,aAAa,EAAEL,KAAK,CAACK,aAAa,IAAI,IAAI;MAC1CC,aAAa,EAAEN,KAAK,CAACM,aAAa,IAAI,IAAI;MAC1CC,KAAK,EAAEP,KAAK,CAACO,KAAK,IAAI,IAAI;MAC1BC,KAAK,EAAER,KAAK,CAACQ,KAAK,CAACC,GAAG,CAACC,IAAI,KAAK;QAC5BC,WAAW,EAAED,IAAI,CAACC,WAAW;QAC7BC,WAAW,EAAEF,IAAI,CAACE,WAAW;QAC7BC,SAAS,EAAEC,MAAM,CAACJ,IAAI,CAACG,SAAS,CAAC;QACjCE,QAAQ,EAAED,MAAM,CAACJ,IAAI,CAACK,QAAQ,CAAC;QAC/BR,KAAK,EAAEG,IAAI,CAACH,KAAK,IAAI;MACzB,CAAC,CAAC;IACN,CAAC;IAED,MAAMd,QAAQ,GAAG,MAAMJ,KAAK,CAAC2B,IAAI,CAAC1B,QAAQ,EAAEW,cAAc,EAAE;MACxDgB,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IACF,OAAOxB,QAAQ,CAACE,IAAI;EACxB;EAEA,aAAauB,WAAWA,CAACpB,EAAU,EAAEE,KAAqB,EAAiB;IACvE,MAAMX,KAAK,CAAC8B,KAAK,CAAC,GAAG7B,QAAQ,IAAIQ,EAAE,GAAG,EAAEE,KAAK,CAAC;EAClD;EAEA,aAAaoB,WAAWA,CAACtB,EAAU,EAAiB;IAChD,MAAMT,KAAK,CAACgC,MAAM,CAAC,GAAG/B,QAAQ,IAAIQ,EAAE,GAAG,CAAC;EAC5C;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}